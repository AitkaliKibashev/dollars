{"version":3,"sources":["assets/images/dollars_logo.jpg","API/API.js","redux/reducers/authReducer.js","assets/images/notification-bell.png","redux/reducers/notificationReducer.js","components/Notification/Notification.jsx","components/Reputation/Reputation.jsx","components/Logout/Logout.jsx","assets/images/logout.png","components/Header/Header.jsx","redux/reducers/messagesReducer.js","assets/images/loading.gif","components/Loader/Loader.jsx","pages/Home/Home.jsx","pages/Index/Index.jsx","components/common/EmailInput.jsx","components/common/LoginInput.jsx","components/common/PasswordInput.jsx","pages/Login/Login.jsx","pages/About/About.jsx","assets/images/send.png","redux/reducers/postsReducer.js","components/common/DeleteBtn.jsx","assets/images/trash-icon.png","pages/Posts/RatePost.jsx","pages/Posts/Post.jsx","redux/reducers/categoryReducer.js","components/Category/Category.jsx","pages/Posts/Posts.jsx","assets/images/photo.png","redux/reducers/commentReducer.js","components/Comment/Comment.jsx","pages/Posts/PostDetail.jsx","routes.js","components/AppRouter.js","App.js","redux/store.js","index.js"],"names":["url","chatAPI","data","axios","post","get","userAPI","token","headers","userId","postAPI","page","category","postId","delete","commentsAPI","id","categoryAPI","notificationAPI","notificationId","patch","TOGGLE_IS_AUTH","SET_USER","REMOVE_USER","SET_AUTH_ERROR","SET_CAN_ENTER","SET_USER_REPUTATION","initialState","canEnter","isAuth","enterPassword","user","error","setUserAC","type","setErrorAC","toggleIsAuthAC","payload","addReputation","dispatch","a","JSON","parse","localStorage","getItem","res","status","console","log","SET_NOTIFICATIONS","SET_NOTIFICATIONS_ERROR","UPDATE_NOTIFICATION","notifications","sendNotification","setTimeout","connect","state","updateNotification","useState","isActive","setIsActive","newNotifications","setNewNotifications","useEffect","filter","n","watched","forEach","className","onClick","length","map","to","comment","message","src","notificationIcon","alt","Reputation","reputation","Logout","auth","fetchUserReputation","fetchNotifications","logoutUser","removeItem","dollarsLogo","username","SET_MESSAGE","INIT_MESSAGES","messages","Loader","loadingGif","setMessage","setMessageAC","initializeMessages","messageInput","setMessageInput","pusher","Pusher","cluster","subscribe","bind","disconnect","scrollToBottom","messageEndRef","useRef","current","scrollIntoView","behavior","handleSubmit","e","preventDefault","target","value","sendDate","Date","send_date","toLocaleString","m","ref","onSubmit","name","onChange","setCanEnter","setCanEnterAC","setError","handleForm","htmlFor","EmailInput","setIsValid","isSubmit","email","setEmail","dirty","setDirty","test","String","toLowerCase","emailHandler","onBlur","placeholder","LoginInput","login","setLogin","loginHandler","PasswordInput","password","setPassword","passwordHandler","loginError","loginUser","item","setItem","stringify","registerUser","isValid","window","setWindow","setIsSubmit","history","useHistory","push","disabled","About","SET_POSTS","CLEAR_POSTS","ADD_POST","ADD_RATING_TO_POST","SET_POSTS_ERROR","SET_IS_POSTS_LOADING","DELETE_POST","SET_POST","SET_PAGES_NUMBER","posts","isLoading","pagesNumber","setIsLoadingAC","bool","clearPostsAC","deletePostAC","addRatingToPost","DeleteBtn","clickHandler","RatePost","rate","color","deletePost","authUser","text","image","published_date","ratings","commentsLength","ratePost","rating","publishedDate","ratingSum","Math","round","r","reduce","prev","cur","undefined","style","textDecoration","marginRight","checkRatingLevel","SET_CATEGORIES","SET_CATEGORIES_ERROR","SET_IS_CATEGORIES_LOADING","CLEAR_CATEGORIES","categories","Category","title","categoryId","setPosts","i","postRatings","postComments","pages","addPost","clearPosts","fetchCategories","clearCategories","setValue","img","setImg","setPage","setCategoryId","postsEndRef","observer","IntersectionObserver","entries","isIntersecting","observe","changeCategory","c","formData","FormData","append","height","scrollHeight","handleTextarea","blur","files","handleFileInput","sendPng","p","SET_COMMENTS","ADD_COMMENT","DELETE_COMMENT","SET_COMMENT_ERROR","SET_IS_COMMENTS_LOADING","CLEAR_COMMENTS","comments","deleteComment","commentId","created_date","setToReplyData","children","createdDate","child","isPostsLoading","isCommentsLoading","fetchPost","fetchComments","clearComments","addComment","location","useLocation","pathname","split","toReplyData","newComments","parent","nc","marginBottom","submitComment","publicRoutes","path","Component","Index","privateRoutes","Home","Login","Posts","PostDetail","exact","checkIsAuth","itemStr","expiry","getTime","reducers","combineReducers","action","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ee147d59.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/dollars_logo.a3c0389c.jpg\";","import axios from \"axios\"\r\n\r\nconst url = '/api'\r\n\r\n\r\n\r\n\r\n\r\nexport const chatAPI = {\r\n    sendMessage: (data) => {\r\n        return axios.post(`${url}/messages/`, data)\r\n    },\r\n    getMessages: () => {\r\n        return axios.get(`${url}/messages/`)\r\n    }\r\n}\r\n\r\nexport const userAPI = {\r\n    login: (data) => {\r\n        return axios.post(`${url}/login/`, data)\r\n    },\r\n    logout: (token) => {\r\n        return axios.post(`${url}/logout/`, {},\r\n            {\r\n                headers: {\r\n                    'Authorization': `token ${token}`\r\n                }\r\n            }\r\n        )\r\n    },\r\n    register: (data) => {\r\n        return axios.post(`${url}/register/`, data)\r\n    },\r\n    addReputation: (data, token) => {\r\n        return axios.post(`${url}/user-reputation/`, data, {\r\n            headers: {\r\n                'Authorization': `token ${token}`\r\n            }\r\n        })\r\n    },\r\n    fetchReputation: (userId, token) => {\r\n        return axios.get(`${url}/get-user-reputation/${userId}`, {\r\n            headers: {\r\n                'Authorization': `token ${token}`\r\n            }\r\n        })\r\n    },\r\n    getUser: (userId) => {\r\n        return axios.get(`${url}/user/${userId}`)\r\n    }\r\n}\r\n\r\nexport const postAPI = {\r\n    getPosts: (page, category) => {\r\n        return axios.get(`${url}/post/?page=${page}&category=${category}`)\r\n    },\r\n    addPost: (data, token) => {\r\n        return axios.post(`${url}/post/`, data, {\r\n            headers: {\r\n                'Authorization': `token ${token}`,\r\n                'content-type': `multipart/form-data`\r\n            }\r\n        })\r\n    },\r\n    getPost: (postId) => {\r\n        return axios.get(`${url}/post-detail/${postId}`)\r\n    },\r\n    deletePost: (postId, token) => {\r\n        return axios.delete(`${url}/post-detail/${postId}`, {\r\n            headers: {\r\n                'Authorization': `token ${token}`\r\n            }\r\n        })\r\n    },\r\n    getPostRatings: (postId) => {\r\n        return axios.get(`${url}/post-rating/${postId}`)\r\n    },\r\n    addRating: (data, token) => {\r\n        return axios.post(`${url}/post-rate/`, data, {\r\n            headers: {\r\n                'Authorization': `token ${token}`\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const commentsAPI = {\r\n    fetchPostComments: (postId) => {\r\n        return axios.get(`${url}/comment/${postId}`)\r\n    },\r\n    addCommentToPost: (data, token) => {\r\n        return axios.post(`${url}/add-comment/`, data, {\r\n            headers: {\r\n                'Authorization': `token ${token}`\r\n            }\r\n        })\r\n    },\r\n    deleteCommentFromPost: (id, token) => {\r\n        return axios.delete(`${url}/delete-comment/${id}`, {\r\n            headers: {\r\n                'Authorization': `token ${token}`\r\n            }\r\n        })\r\n    },\r\n}\r\n\r\nexport const categoryAPI = {\r\n    fetchCategories: () => {\r\n        return axios.get(`${url}/categories/`)\r\n    }\r\n}\r\n\r\nexport const notificationAPI = {\r\n    fetchNotifications: (userId) => {\r\n        return axios.get(`${url}/notification/?user_id=${userId}`)\r\n    },\r\n    sendNotification: (data, token) => {\r\n        return axios.post(`${url}/notification/`, data, {\r\n            headers: {\r\n                'Authorization': `token ${token}`\r\n            }\r\n        })\r\n    },\r\n    updateNotification: (data, notificationId, token) => {\r\n        return axios.patch(`${url}/notification/?notification_id=${notificationId}`, data, {\r\n            headers: {\r\n                'Authorization': `token ${token}`\r\n            }\r\n        })\r\n    }\r\n}","import {\r\n    userAPI\r\n} from \"../../API/API\"\r\n\r\nconst TOGGLE_IS_AUTH = 'TOGGLE_IS_AUTH'\r\nconst SET_USER = 'SET_USER'\r\nconst REMOVE_USER = 'REMOVE_USER'\r\nconst SET_AUTH_ERROR = 'SET_AUTH_ERROR'\r\nconst SET_CAN_ENTER = 'SET_CAN_ENTER'\r\nconst SET_USER_REPUTATION = 'SET_USER_REPUTATION'\r\n\r\n\r\nconst initialState = {\r\n    canEnter: false,\r\n    isAuth: false,\r\n    enterPassword: 'babbooka',\r\n    user: {},\r\n    error: null\r\n}\r\n\r\nexport const authReducer = (state=initialState, action) => {\r\n    switch (action.type) {\r\n        case TOGGLE_IS_AUTH:\r\n            return {\r\n                ...state,\r\n                isAuth: action.payload\r\n            }\r\n        case SET_USER:\r\n            return {\r\n                ...state,\r\n                user: action.data\r\n            }\r\n        case SET_CAN_ENTER:\r\n            return {\r\n                ...state,\r\n                canEnter: action.payload\r\n            }\r\n        case REMOVE_USER:\r\n            return {\r\n                ...state,\r\n                user: {}\r\n            }\r\n        case SET_AUTH_ERROR:\r\n            return  {\r\n                ...state,\r\n                error: action.error\r\n            }\r\n        case SET_USER_REPUTATION:\r\n            return {\r\n                ...state,\r\n                user: {...state.user, ...action.payload}\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setCanEnterAC = (payload) => ({type: SET_CAN_ENTER, payload})\r\nconst setUserAC = (data) => ({type: SET_USER, data})\r\nconst removeUserAC = () => ({type: REMOVE_USER})\r\nconst setErrorAC = (error) => ({type: SET_AUTH_ERROR, error})\r\nconst toggleIsAuthAC = (payload) => ({type: TOGGLE_IS_AUTH, payload})\r\nconst setUserReputationAC = (payload) => ({type: SET_USER_REPUTATION, payload})\r\n\r\n\r\nexport const loginUser = (data) => async (dispatch) => {\r\n    try {\r\n        const res = await userAPI.login(data)\r\n\r\n        if (res.status === 200) {\r\n            const item = {\r\n                ...res.data\r\n            }\r\n            localStorage.setItem('auth', JSON.stringify(item))\r\n\r\n            dispatch(toggleIsAuthAC(true))\r\n            dispatch(setUserAC(res.data.user))\r\n            dispatch(setErrorAC(null))\r\n            return true\r\n        }\r\n\r\n    } catch (e) {\r\n        dispatch(setErrorAC('Неверный логин или пароль'))\r\n    }\r\n\r\n}\r\n\r\nexport const registerUser = (data) => async (dispatch) => {\r\n    try {\r\n        const user = await userAPI.register(data)\r\n        if (user.status === 200) {\r\n            return true\r\n        }\r\n\r\n        dispatch(setErrorAC(null))\r\n\r\n    } catch (e) {\r\n        dispatch(setErrorAC('Email или Логин с такими же данными уже существует'))\r\n    }\r\n\r\n}\r\n\r\nexport const checkIsAuth = () => async (dispatch) => {\r\n    const itemStr = localStorage.getItem('auth')\r\n\r\n    if (!itemStr) {\r\n        dispatch(toggleIsAuthAC(false))\r\n        return null\r\n    }\r\n\r\n    const item = JSON.parse(itemStr)\r\n    const expiry = new Date(item.expiry)\r\n    const now = new Date()\r\n\r\n    if (now.getTime() > expiry.getTime()) {\r\n        localStorage.removeItem('auth')\r\n        dispatch(toggleIsAuthAC(false))\r\n        return null\r\n    }\r\n    dispatch(toggleIsAuthAC(true))\r\n    dispatch(setUserAC(item.user))\r\n}\r\n\r\nexport const logoutUser = () => async (dispatch) => {\r\n    try {\r\n        const {token} = JSON.parse(localStorage.getItem('auth'))\r\n        const res = await userAPI.logout(token)\r\n\r\n        if(res.status === 204) {\r\n            localStorage.removeItem('auth')\r\n            dispatch(toggleIsAuthAC(false))\r\n            dispatch(removeUserAC())\r\n            dispatch(setErrorAC(null))\r\n        }\r\n    } catch (e) {\r\n        dispatch(setErrorAC('Произошла ошибка при выходе'))\r\n    }\r\n}\r\n\r\nexport const addReputation = (data) => async (dispatch) => {\r\n    try {\r\n        const {token} = JSON.parse(localStorage.getItem('auth'))\r\n        const res = await userAPI.addReputation(data, token)\r\n        if(res.status === 200) {\r\n            console.log(res)\r\n            console.log(data)\r\n            dispatch(setErrorAC(null))\r\n        }\r\n    } catch (e) {\r\n        dispatch(setErrorAC('Произошла ошибка при добавлении репутации'))\r\n    }\r\n\r\n}\r\n\r\nexport const fetchUserReputation = (userId) => async (dispatch) => {\r\n    try {\r\n        const {token} = JSON.parse(localStorage.getItem('auth'))\r\n        const res = await userAPI.fetchReputation(userId, token)\r\n        if(res.status === 200) {\r\n            dispatch(setUserReputationAC(res.data))\r\n            dispatch(setErrorAC(null))\r\n        }\r\n    } catch (e) {\r\n        console.log(e)\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/notification-bell.11a4ad92.png\";","import {notificationAPI} from \"../../API/API\"\r\n\r\nconst SET_NOTIFICATIONS = 'SET_NOTIFICATIONS'\r\nconst SET_NOTIFICATIONS_ERROR = 'SET_NOTIFICATIONS_ERROR'\r\nconst UPDATE_NOTIFICATION = 'UPDATE_NOTIFICATION'\r\n\r\nconst initialState = {\r\n    notifications: [\r\n\r\n    ],\r\n    error: null,\r\n}\r\n\r\nexport const notificationsReducer = (state=initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_NOTIFICATIONS:\r\n            return {\r\n                ...state,\r\n                notifications: [...action.payload]\r\n            }\r\n        case SET_NOTIFICATIONS_ERROR:\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n        case UPDATE_NOTIFICATION:\r\n            return {\r\n                ...state,\r\n                notifications: state.notifications.map(n => n.id === action.payload.id ? action.payload : n)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nconst setNotificationsAC = (payload) => ({type: SET_NOTIFICATIONS, payload})\r\nconst updateNotificationAC = (payload) => ({type: UPDATE_NOTIFICATION, payload})\r\nconst setErrorAC = (payload) => ({type: SET_NOTIFICATIONS_ERROR, payload})\r\n\r\n\r\nexport const fetchNotifications = (userId) => async (dispatch) => {\r\n    try {\r\n        const res = await notificationAPI.fetchNotifications(userId)\r\n        dispatch(setNotificationsAC(res.data))\r\n        dispatch(setErrorAC(null))\r\n    } catch (e) {\r\n        setErrorAC('Произшола ошибка при получении уведомлении')\r\n        setTimeout(() => {\r\n            dispatch(setErrorAC(''))\r\n        }, 5000)\r\n    }\r\n}\r\n\r\nexport const sendNotification = (data) => async (dispatch) => {\r\n    try {\r\n        const {token} = JSON.parse(localStorage.getItem('auth'))\r\n        const res = await notificationAPI.sendNotification(data, token)\r\n        dispatch(setErrorAC(null))\r\n    } catch (e) {\r\n        setErrorAC('Произшола ошибка при отправке уведомления')\r\n        setTimeout(() => {\r\n            dispatch(setErrorAC(''))\r\n        }, 5000)\r\n    }\r\n}\r\n\r\nexport const updateNotification = (data, notificationId) => async (dispatch) => {\r\n    try {\r\n        const {token} = JSON.parse(localStorage.getItem('auth'))\r\n        const res = await notificationAPI.updateNotification(data, notificationId, token)\r\n        dispatch(updateNotificationAC(res.data))\r\n        dispatch(setErrorAC(null))\r\n    } catch (e) {\r\n        console.log(e)\r\n    }\r\n}","import React, {\r\n    useEffect,\r\n    useRef,\r\n    useState\r\n} from 'react'\r\nimport notificationIcon\r\n    from \"../../assets/images/notification-bell.png\"\r\nimport './Notification.css'\r\nimport {NavLink} from \"react-router-dom\"\r\nimport {connect} from \"react-redux\"\r\nimport {\r\n    updateNotification\r\n} from \"../../redux/reducers/notificationReducer\"\r\n\r\nconst Notification = ({notifications, updateNotification}) => {\r\n    const [isActive, setIsActive] = useState(false)\r\n    const [newNotifications, setNewNotifications] = useState([])\r\n\r\n    useEffect(() => {\r\n        if(notifications) {\r\n            setNewNotifications(notifications.filter(n => !n.watched))\r\n        }\r\n    }, [notifications])\r\n\r\n\r\n    useEffect(() => {\r\n        if(isActive) {\r\n            newNotifications.forEach(n => updateNotification({...n, watched: true}, n.id))\r\n        }\r\n    }, [isActive])\r\n\r\n\r\n\r\n    return (\r\n        <div className={isActive ? 'notification-wrapper active' : 'notification-wrapper'}>\r\n            <div className=\"notifications\">\r\n                <div className=\"close\" onClick={() => setIsActive(false)} />\r\n                {!notifications.length && <p>Новых уведомлений нет</p>}\r\n                {notifications.map(n =>\r\n                    <div className=\"notification\">\r\n                        <NavLink to={n.comment ? `/post/${n.post}#${n.comment}` : `/post/${n.post}/`}>\r\n                            {n.message}\r\n                        </NavLink>\r\n                    </div>\r\n                )}\r\n            </div>\r\n            <div className=\"notification-icon\" onClick={() => setIsActive(true)}>\r\n                {newNotifications.length ?\r\n                <div\r\n                    className=\"notification-indicator\">\r\n                    <span>{newNotifications.length}</span>\r\n                </div>: null\r\n                }\r\n                <img src={notificationIcon} alt=\"notification icon\"/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    notifications: state.notifications.notifications\r\n})\r\n\r\nexport default connect(mapStateToProps, {updateNotification})(Notification)","import React from 'react'\r\n\r\nconst Reputation = ({reputation}) => {\r\n    return (\r\n        <div className=\"reputation-wrapper\">\r\n            <div className=\"reputaion\">\r\n                {reputation}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Reputation","import React from 'react'\r\nimport logoutIcon from '../../assets/images/logout.png'\r\nimport './Logout.css'\r\n\r\nconst Logout = ({onClick}) => {\r\n    return (\r\n        <div className=\"logout-wrapper\" onClick={() => onClick()}>\r\n            <div className=\"logout-img\">\r\n                <img src={logoutIcon} alt=\"logout\"/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Logout","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACbUlEQVRYhb2XP2gUQRTGf7dZQhAJ4QjaiIiNoigWghIQro6Fgv8KsVAQLEwRBCHafI2FnoiQQgNaCUEbwUZQMGwjgjYiacUmBoWQIogecorFbvDtZGbv9m4vHyzMvPnzffPmvZnZGg4knQRmgJ1ADERZU+T2Bf52YVsDHgD3JG3oHzvkl4DHnkn7wTjQBPYAl93GmiEfAb4CdeAb8BRoAW3+r+pPCeIhYBiYBA5mtgOSFm0n64FdGTnANUnzJciCkDQHfMmqh4CcAN++AqxWQZ5hxZRH3MaQgHaFAgrnCgnwRXc/AoLzRYFyT5AUStWuBLiDypLXge+SblshWe7PhIT0vWqDHaQ5fx14JmmLEXEXOAP8HKQAO9dp4I2kbUbEc9KzJTjIlnsJwtipHwXeSdprRHQcFISkCWCqoMu4x7YbeCvplKTENygkwOeBJjBRJDKAOvBK0kXf6VomBrr2lgfDwBNJN9xtqDIIOyECbgFzkmJr3GwxWy3XZnoA4A5wQdLvdUOZfe3nfmgDU5Ieug0hAT7P3ASmA20AY/iz5AdwTtJL3yAroHA7JC0ACwXth4EPjnkZOC7pY2hciLSX2HDv/U/AEUvuOwmrDEIbI6+BY5KWDPkkcHaQApZIn1+PSN2+ZsivAC9IUzAHGwN2BaWFSVqVtN19+2dvg1ny/xi9E3UQ4UvVqIgndAVXKcy7ch+RjeJ+Lh6fgCCsgJYpj1YoYCzAAeTVLZP+SI4CTUn7gV/kH5N2m4qO5vV9j4ETxr7odqzZiqSrpBE7CMxLOu8ah2wlSZL3jUbjM7CPVH2rgm8FuA9MJ0mywWv/AInXvidXZXtOAAAAAElFTkSuQmCC\"","import React, {useEffect} from 'react'\r\nimport './Header.css'\r\nimport dollarsLogo from '../../assets/images/dollars_logo.jpg'\r\nimport {NavLink} from \"react-router-dom\"\r\nimport {connect} from \"react-redux\"\r\nimport {\r\n    fetchUserReputation,\r\n    logoutUser\r\n} from \"../../redux/reducers/authReducer\"\r\nimport Notification\r\n    from \"../Notification/Notification\"\r\nimport {fetchNotifications} from \"../../redux/reducers/notificationReducer\"\r\nimport Reputation from \"../Reputation/Reputation\"\r\nimport Logout from \"../Logout/Logout\"\r\n\r\nconst Header = ({isAuth, user, fetchUserReputation, fetchNotifications, logoutUser}) => {\r\n\r\n    useEffect(() => {\r\n        if(isAuth) {\r\n            fetchUserReputation(user.id)\r\n            fetchNotifications(user.id)\r\n        }\r\n\r\n    }, [isAuth])\r\n\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"logo\">\r\n                <img src={dollarsLogo} alt=\"dollars\"/>\r\n            </div>\r\n            <ul className=\"link-list\">\r\n                <li className=\"nav-link\" >\r\n                    <NavLink to='/home'>\r\n                        Home\r\n                    </NavLink>\r\n                </li>\r\n                <li className=\"nav-link\" >\r\n                    <NavLink to='/about'>\r\n                        About\r\n                    </NavLink>\r\n                </li>\r\n                <li className=\"nav-link\" >\r\n                    <NavLink to='/posts'>\r\n                        Posts\r\n                    </NavLink>\r\n                </li>\r\n                <li className=\"nav-link\" >\r\n                    {isAuth ? user.username:\r\n                        <NavLink to='/login'>\r\n                            Login\r\n                        </NavLink>}\r\n                </li>\r\n            </ul>\r\n            {isAuth && <>\r\n                <Logout onClick={logoutUser}/>\r\n                <Notification />\r\n                <Reputation reputation={user.reputation} />\r\n            </>}\r\n        </header>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    user: state.auth.user,\r\n})\r\n\r\nexport default connect(mapStateToProps, {fetchUserReputation, fetchNotifications, logoutUser})(Header)","import {chatAPI} from \"../../API/API\"\r\n\r\nconst SET_MESSAGE = 'SET_MESSAGE'\r\nconst INIT_MESSAGES = 'INIT_MESSAGES'\r\n\r\nconst initialState = {\r\n    messages: [\r\n\r\n    ]\r\n}\r\n\r\nexport const messagesReducer = (state=initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, action.payload]\r\n            }\r\n        case INIT_MESSAGES:\r\n            return {\r\n                ...state,\r\n                messages: [...action.payload]\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nconst setMessageAC = (payload) => ({type: SET_MESSAGE, payload})\r\nconst initMessagesAC = (payload) => ({type: INIT_MESSAGES, payload})\r\n\r\nexport const setMessage = (payload) => (dispatch) => {\r\n    dispatch(setMessageAC(payload))\r\n}\r\n\r\nexport const initializeMessages = () => async (dispatch) => {\r\n    const res = await chatAPI.getMessages()\r\n\r\n    dispatch(initMessagesAC(res.data))\r\n}\r\n","export default __webpack_public_path__ + \"static/media/loading.c7d9f081.gif\";","import React from 'react'\r\nimport loadingGif from '../../assets/images/loading.gif'\r\nimport './Loader.css'\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className=\"loader-wrapper\">\r\n            <img src={loadingGif} alt=\"loader\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader","import React, {\r\n    useEffect,\r\n    useRef,\r\n    useState\r\n} from 'react'\r\nimport Header from \"../../components/Header/Header\"\r\nimport './Home.css'\r\nimport {connect} from \"react-redux\"\r\nimport Pusher from \"pusher-js\"\r\nimport {\r\n    initializeMessages,\r\n    setMessage,\r\n} from \"../../redux/reducers/messagesReducer\"\r\nimport {chatAPI} from \"../../API/API\"\r\nimport Loader from \"../../components/Loader/Loader\"\r\n\r\nconst Home = ({messages, setMessage, isAuth, user, initializeMessages}) => {\r\n\r\n    const [messageInput, setMessageInput] = useState('')\r\n\r\n    useEffect(() => {\r\n        initializeMessages()\r\n\r\n        const pusher = new Pusher('7e90421bdf9c4ad510d8', {\r\n            cluster: 'ap2'\r\n        })\r\n\r\n        const channel = pusher.subscribe('chat')\r\n\r\n        channel.bind('messages', function(data) {\r\n            setMessage(data)\r\n        })\r\n\r\n        return () => {\r\n            pusher.disconnect();\r\n        }\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        scrollToBottom()\r\n    }, [messages])\r\n\r\n    const messageEndRef =  useRef(null)\r\n\r\n    const scrollToBottom = () => {\r\n        messageEndRef.current.scrollIntoView({ behavior: \"smooth\" })\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        if (!e.target[0].value) return\r\n        setMessageInput('')\r\n\r\n        const sendDate = new Date()\r\n\r\n        const data = {\r\n            message: e.target[0].value,\r\n            username: user.username,\r\n            send_date: sendDate.toLocaleString()\r\n        }\r\n\r\n        await chatAPI.sendMessage(data)\r\n\r\n        scrollToBottom()\r\n    }\r\n\r\n    return (\r\n        <main className=\"main\">\r\n            <div className=\"container\">\r\n                <Header />\r\n                <div className=\"welcome\">\r\n                    <h1>Главная страница закрытого общества Dollars Атырау - главное коммуникационное место.</h1>\r\n                </div>\r\n                <h2 className=\"chat-title\">Main Board</h2>\r\n                <div className=\"main-board\" >\r\n                    {messages.map(m =>\r\n                        <div className=\"board-subject\">\r\n                            <div className=\"board-header\">\r\n                                {m.username} <span>{m.send_date}</span>\r\n                            </div>\r\n                            <div className=\"board-body\">\r\n                                {m.message}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    <div className=\"message-end\"  ref={messageEndRef}/>\r\n                </div>\r\n                {isAuth &&\r\n                <form className=\"message-form\" onSubmit={(e => handleSubmit(e))}>\r\n                    <input name=\"message-input\" value={messageInput} onChange={e => setMessageInput(e.target.value)}/>\r\n                    <button>Send</button>\r\n                </form> }\r\n\r\n            </div>\r\n        </main>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    messages: state.messages.messages,\r\n    isAuth: state.auth.isAuth,\r\n    user: state.auth.user\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {setMessage, initializeMessages})(Home)","import React, {useState} from 'react'\r\nimport dollarsLogo from '../../assets/images/dollars_logo.jpg'\r\nimport './Index.css'\r\nimport {connect} from \"react-redux\"\r\nimport {\r\n    setCanEnterAC,\r\n} from \"../../redux/reducers/authReducer\"\r\n\r\nconst Index = ({enterPassword, setCanEnter}) => {\r\n    const [error, setError] = useState('')\r\n\r\n    const handleForm = (e) => {\r\n        e.preventDefault()\r\n        if(e.target[0].value === enterPassword) {\r\n            setCanEnter(true)\r\n            setError('')\r\n        } else {\r\n            setError('Неправильный пароль')\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"index-main\">\r\n            <div className=\"index-image-wrapper\">\r\n                <img src={dollarsLogo} alt=\"dollars\"/>\r\n            </div>\r\n            {error && <div className=\"error-p\">{error}</div>}\r\n\r\n            <form className=\"enter-form\" onSubmit={e => handleForm(e)}>\r\n                <div className=\"password-input\">\r\n                    <label className=\"password-label\" htmlFor=\"pw\">PASSWORD:</label>\r\n                    <input type=\"password\"\r\n                           className=\"enter-password\"\r\n                           id=\"pw\"\r\n                    />\r\n                </div>\r\n\r\n                <button className=\"enter-btn\">ENTER</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    enterPassword: state.auth.enterPassword\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setCanEnter: (payload) => dispatch(setCanEnterAC(payload))\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Index)","import React, {useEffect, useState} from 'react'\r\n\r\nconst EmailInput = ({setIsValid, isSubmit}) => {\r\n    const [email, setEmail] = useState('')\r\n    const [dirty, setDirty] = useState(false)\r\n    const [error, setError] = useState('Поле не может быть пустым')\r\n\r\n\r\n    useEffect(() => {\r\n        if(error) {\r\n            setIsValid(false)\r\n        } else {\r\n            setIsValid(true)\r\n        }\r\n    }, [error])\r\n\r\n    useEffect(() => {\r\n        if(isSubmit) {\r\n            setEmail('')\r\n        }\r\n    }, [isSubmit])\r\n\r\n    const handleBlur = (e) => {\r\n        setDirty(true)\r\n    }\r\n\r\n    const emailHandler = (e) => {\r\n        const re = /^\\w+([-]?\\w+)*@\\w+([-]?\\w+)*(\\.\\w{2,3})+$/\r\n\r\n        const value = e.target.value\r\n\r\n        setEmail(value)\r\n\r\n        if (!re.test(String(e.target.value).toLowerCase())) {\r\n            setError(`Некорректный email`)\r\n\r\n            if(!value) {\r\n                setError('Поле не может быть пустым')\r\n            }\r\n        }\r\n        else {\r\n            setError( '')\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            {(dirty && error) && <div className=\"error-p\">{error}</div>}\r\n            <div className=\"field-wrapper\">\r\n                <input onChange={(e) => emailHandler(e)} value={email} onBlur={(e) => handleBlur(e)} className=\"common-input\" name=\"email\" type=\"email\" placeholder=\"Email\"/>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default EmailInput","import React, {useEffect, useState} from 'react'\r\n\r\nconst LoginInput = ({setIsValid, isSubmit}) => {\r\n    const [login, setLogin] = useState('')\r\n    const [dirty, setDirty] = useState(false)\r\n    const [error, setError] = useState( 'Поле не может быть пустым')\r\n\r\n    useEffect(() => {\r\n        if(error) {\r\n            setIsValid(false)\r\n        } else {\r\n            setIsValid(true)\r\n        }\r\n    }, [error])\r\n\r\n\r\n    useEffect(() => {\r\n        if(isSubmit) {\r\n            setLogin('')\r\n        }\r\n    }, [isSubmit])\r\n\r\n\r\n    const handleBlur = (e) => {\r\n        setDirty(true)\r\n    }\r\n\r\n    const loginHandler = (e) => {\r\n        const maxLength = 30\r\n        const minLength = 3\r\n        const value = e.target.value\r\n\r\n        setLogin(value)\r\n\r\n        if (value.length > maxLength || value.length < minLength) {\r\n            setError(`Логин не может быть меньше ${minLength} символов и больше ${maxLength} символов`)\r\n        } else {\r\n            setError( '')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {(dirty && error) && <div className=\"error-p\">{error}</div>}\r\n            <div className=\"field-wrapper\">\r\n                <input onChange={(e) => loginHandler(e)} value={login}  onBlur={(e) => handleBlur(e)} className=\"common-input\" name=\"login\" type=\"text\" placeholder=\"Логин\"/>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default LoginInput","import React, {useEffect, useState} from 'react'\r\n\r\nconst PasswordInput = ({setIsValid, isSubmit}) => {\r\n    const [password, setPassword] = useState('')\r\n    const [dirty, setDirty] = useState(false)\r\n    const [error, setError] = useState('Поле не может быть пустым')\r\n\r\n\r\n    useEffect(() => {\r\n        if(error) {\r\n            setIsValid(false)\r\n        } else {\r\n            setIsValid(true)\r\n        }\r\n    }, [error])\r\n\r\n    useEffect(() => {\r\n        if(isSubmit) {\r\n            setPassword('')\r\n        }\r\n    }, [isSubmit])\r\n\r\n\r\n    const handleBlur = (e) => {\r\n        setDirty(true)\r\n    }\r\n\r\n    const passwordHandler = (e) => {\r\n        const minLength = 8\r\n        const maxLength = 30\r\n\r\n        const value = e.target.value\r\n\r\n        setPassword(value)\r\n\r\n        if (value.length < minLength || value.length > maxLength) {\r\n            setError(`Пароль не может быть меньше ${minLength} символов и больше ${maxLength} символов`)\r\n\r\n            if(!value) {\r\n                setError('Поле не может быть пустым')\r\n            }\r\n        }\r\n        else {\r\n            setError( '')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {(dirty && error) && <div className=\"error-p\">{error}</div>}\r\n            <div className=\"field-wrapper\">\r\n                <input onChange={(e) => passwordHandler(e)} value={password} onBlur={(e) => handleBlur(e)} className=\"common-input\" name=\"password\" type=\"password\" placeholder=\"Пароль\"/>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default PasswordInput","import React, {useState} from 'react'\r\nimport Header from \"../../components/Header/Header\"\r\nimport './Login.css'\r\nimport {connect} from \"react-redux\"\r\nimport EmailInput\r\n    from \"../../components/common/EmailInput\"\r\nimport LoginInput\r\n    from \"../../components/common/LoginInput\"\r\nimport PasswordInput\r\n    from \"../../components/common/PasswordInput\"\r\nimport {\r\n    loginUser,\r\n    registerUser\r\n} from \"../../redux/reducers/authReducer\"\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst Login = ({loginError, loginUser, registerUser}) => {\r\n    const [isValid, setIsValid] = useState(false)\r\n    const [window, setWindow] = useState('login')\r\n    const [isSubmit, setIsSubmit] = useState(false)\r\n    const history = useHistory()\r\n\r\n    const toggleWindow = () => {\r\n        if(window === 'login') setWindow('register')\r\n        else setWindow('login')\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n\r\n        const login = e.target[0].value\r\n        const password = e.target[1].value\r\n        const email = e.target[2]?.value\r\n\r\n        const data = {\r\n            username: login,\r\n            password: password\r\n        }\r\n\r\n        if (window === 'login') {\r\n            const res = await loginUser(data)\r\n\r\n            if(res) {\r\n                setIsSubmit(true)\r\n                history.push('/home')\r\n            }\r\n        } else {\r\n            const res = await registerUser({\r\n                ...data,\r\n                email: email\r\n            })\r\n\r\n            if(res) {\r\n                setIsSubmit(true)\r\n                setWindow('login')\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <main className=\"main\">\r\n            <div className=\"container\">\r\n                <Header />\r\n                <div className=\"welcome_login\">\r\n                    <h1>{window === 'register' ? 'Register' : 'Login'}</h1>\r\n                </div>\r\n                {loginError && <p className=\"error-message\">{loginError}</p>}\r\n                <form className=\"auth-form\" onSubmit={e => handleSubmit(e)}>\r\n                    <LoginInput setIsValid={setIsValid} isSubmit={isSubmit}/>\r\n                    <PasswordInput setIsValid={setIsValid} isSubmit={isSubmit}/>\r\n                    {window === 'register' && <EmailInput setIsValid={setIsValid} isSubmit={isSubmit}/>}\r\n\r\n\r\n                    <button disabled={!isValid} className=\"common-btn\">{window === 'register' ? 'Register' : 'Login'}</button>\r\n                </form>\r\n                <p className=\"helper_text\">{window === 'register' ? 'Есть аккаунт?' : 'Нет аккаунта?'}</p>\r\n                <button className=\"switch-btn\" onClick={() => toggleWindow()}>{window === 'register' ? 'Войти' : 'Стань участником общества'}</button>\r\n            </div>\r\n        </main>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    loginError: state.auth.error\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {loginUser, registerUser})(Login)","import React from 'react'\r\nimport Header from \"../../components/Header/Header\"\r\nimport './About.css'\r\n\r\nconst About = () => {\r\n    return (\r\n        <main className=\"main\">\r\n            <div className=\"container\">\r\n                <Header />\r\n                <h1 className=\"about-us\">О нас</h1>\r\n                <div className=\"welcome-about\">\r\n                    Кто такие доллары? Веб-сайт Dollars - это закрытое сообщество, которое хочет сказать что можно общаться даже не зная друг друга.\r\n                    Есть широкий спектр тем для обсуждения и вещей, которым нужно научиться, а также новых людей, с которыми можно встречаться каждый день!\r\n                    Приветствуются все типы людей, если вы уважаете других и ответственно публикуете сообщения. Ваш возраст, этническая принадлежность, личность,\r\n                    экономический статус и способности абсолютно не влияют на ваш статус доллара. Обратите внимание: поскольку нет жестких ограничений в отношении того, где и что вы публикуете, вы должны следовать правилам и поддерживать законность и чистоту сообщества.\r\n                    Хотя наш сайт в основном используется для обсуждения, это не ограничивает тех, кто хочет выйти и сделать мир лучше.\r\n                    Однако, пожалуйста, не пытайтесь заставить других участвовать в миссиях. Мы Доллары, и мы приветствуем вас с распростертыми объятиями!\r\n                </div>\r\n            </div>\r\n        </main>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default About","export default \"data:image/png;base64,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\"","import {commentsAPI, postAPI} from \"../../API/API\"\r\n\r\nconst SET_POSTS = 'SET_POSTS'\r\nconst CLEAR_POSTS = 'CLEAR_POSTS'\r\nconst ADD_POST = 'ADD_POST'\r\nconst ADD_RATING_TO_POST = 'ADD_RATING_TO_POST'\r\nconst SET_POSTS_ERROR = 'SET_POSTS_ERROR'\r\nconst SET_IS_POSTS_LOADING = 'SET_IS_POSTS_LOADING'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst SET_POST = 'SET_POST'\r\nconst SET_PAGES_NUMBER = 'SET_PAGES_NUMBER'\r\n\r\nconst initialState = {\r\n    posts: [\r\n\r\n    ],\r\n    post: {\r\n\r\n    },\r\n    error: null,\r\n    isLoading: false,\r\n    pagesNumber: 1,\r\n}\r\n\r\nexport const postsReducer = (state=initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_POSTS:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts.filter(p => p.category === action.category), ...action.payload]\r\n            }\r\n        case CLEAR_POSTS:\r\n            return {\r\n                ...state,\r\n                posts: []\r\n            }\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [action.payload, ...state.posts]\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            }\r\n        case ADD_RATING_TO_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.map(p => p.id === action.payload.post ? {...p, ratings: [...p.ratings, action.payload]} : p)\r\n            }\r\n        case SET_POSTS_ERROR:\r\n            return {\r\n                ...state,\r\n                error: action.error\r\n            }\r\n        case SET_IS_POSTS_LOADING:\r\n            return {\r\n                ...state,\r\n                isLoading: action.bool\r\n            }\r\n        case SET_POST:\r\n            return {\r\n                ...state,\r\n                post: {...action.payload}\r\n            }\r\n        case SET_PAGES_NUMBER:\r\n            return {\r\n                ...state,\r\n                pagesNumber: action.pages\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nconst setPostsAC = (payload, category) => ({type: SET_POSTS, payload, category})\r\nconst addPostAC = (payload) => ({type: ADD_POST, payload})\r\nconst addRatingToPostAC = (payload) => ({type: ADD_RATING_TO_POST, payload})\r\nconst setErrorAC = (error) => ({type: SET_POSTS_ERROR, error})\r\nconst setIsLoadingAC = (bool) => ({type: SET_IS_POSTS_LOADING, bool})\r\nconst clearPostsAC = () => ({type: CLEAR_POSTS})\r\nconst deletePostAC = (postId) => ({type: DELETE_POST, postId})\r\nconst setPostAC = (payload) => ({type: SET_POST, payload})\r\nconst setPageNumberAC = (pages) => ({type: SET_PAGES_NUMBER, pages})\r\n\r\nexport const setPosts = (page, categoryId) => async (dispatch) => {\r\n    try {\r\n        dispatch(setIsLoadingAC(true))\r\n        const res = await postAPI.getPosts(page, categoryId)\r\n\r\n        const posts = []\r\n        if(!res.data.error) {\r\n            for(let i=0; i < res.data.posts.length; i++) {\r\n                const postRatings = await postAPI.getPostRatings(res.data.posts[i].id)\r\n                const postComments = await commentsAPI.fetchPostComments(res.data.posts[i].id)\r\n\r\n                if(postRatings.data) {\r\n                    posts.push({...res.data.posts[i], ratings: [...postRatings.data], commentsLength: postComments.data.length},)\r\n                }\r\n            }\r\n            dispatch(setPageNumberAC(res.data.pages))\r\n            dispatch(setPostsAC(posts, categoryId))\r\n            dispatch(setErrorAC(null))\r\n        } else {\r\n            clearPostsAC()\r\n        }\r\n\r\n        dispatch(setIsLoadingAC(false))\r\n\r\n    } catch (e) {\r\n        dispatch(setIsLoadingAC(false))\r\n        setErrorAC('Произшола ошибка')\r\n        setTimeout(() => {\r\n            dispatch(setErrorAC(''))\r\n        }, 5000)\r\n    }\r\n}\r\n\r\nexport const fetchPost = (postId) => async (dispatch) => {\r\n    try {\r\n        dispatch(setIsLoadingAC(true))\r\n        const res = await postAPI.getPost(postId)\r\n        let post\r\n        if(!res.data.error) {\r\n            const postRatings = await postAPI.getPostRatings(postId)\r\n\r\n            post = {...res.data, ratings: [...postRatings.data]}\r\n\r\n            dispatch(setPostAC(post))\r\n            dispatch(setErrorAC(null))\r\n        }\r\n        dispatch(setIsLoadingAC(false))\r\n    } catch (e) {\r\n        dispatch(setIsLoadingAC(false))\r\n        setErrorAC('Произшола ошибка')\r\n        setTimeout(() => {\r\n            dispatch(setErrorAC(''))\r\n        }, 5000)\r\n    }\r\n}\r\n\r\nexport const clearPosts = () => async (dispatch) => {\r\n   dispatch(clearPostsAC())\r\n}\r\n\r\nexport const addPost = (data) => async (dispatch) => {\r\n    try {\r\n        dispatch(setIsLoadingAC(true))\r\n        const {token} = JSON.parse(localStorage.getItem('auth'))\r\n        const res = await postAPI.addPost(data, token)\r\n\r\n        dispatch(addPostAC({...res.data, ratings: [], commentsLength: 0}))\r\n        dispatch(setErrorAC(null))\r\n        dispatch(setIsLoadingAC(false))\r\n    } catch (e) {\r\n        dispatch(setIsLoadingAC(false))\r\n        dispatch(setErrorAC('Произшола ошибка при добавлении поста'))\r\n        setTimeout(() => {\r\n            dispatch(setErrorAC(''))\r\n        }, 5000)\r\n    }\r\n}\r\n\r\nexport const deletePost = (postId) => async (dispatch) => {\r\n    try {\r\n        dispatch(setIsLoadingAC(true))\r\n        const {token} = JSON.parse(localStorage.getItem('auth'))\r\n        const res = await postAPI.deletePost(postId, token)\r\n\r\n        if (res.status === 204) {\r\n            dispatch(deletePostAC(postId))\r\n            dispatch(setErrorAC(null))\r\n        }\r\n        dispatch(setIsLoadingAC(false))\r\n    } catch (e) {\r\n        dispatch(setErrorAC('Произшола ошибка при удалении поста'))\r\n        setTimeout(() => {\r\n            dispatch(setErrorAC(''))\r\n        }, 5000)\r\n    }\r\n}\r\n\r\nexport const addRatingToPost = (data) => async (dispatch) => {\r\n    try {\r\n        const {token} = JSON.parse(localStorage.getItem('auth'))\r\n        dispatch(setIsLoadingAC(true))\r\n        const res = await postAPI.addRating(data, token)\r\n        if(res.data.error) {\r\n            dispatch(setErrorAC(res.data.error))\r\n            setTimeout(() => {\r\n                dispatch(setErrorAC(''))\r\n            }, 5000)\r\n            dispatch(setIsLoadingAC(false))\r\n        } else {\r\n            dispatch(addRatingToPostAC(data))\r\n            dispatch(setErrorAC(null))\r\n            dispatch(setIsLoadingAC(false))\r\n        }\r\n    } catch (e) {\r\n        dispatch(setErrorAC('Произшола ошибка при добавлении рейтинга'))\r\n        setTimeout(() => {\r\n            dispatch(setErrorAC(''))\r\n        }, 5000)\r\n    }\r\n}\r\n\r\nexport const setError = (error) => (dispatch) => {\r\n    dispatch(setErrorAC(error))\r\n    setTimeout(() => {\r\n        dispatch(setErrorAC(''))\r\n    }, 5000)\r\n}","import React from 'react'\r\nimport trashIcon from '../../assets/images/trash-icon.png'\r\n\r\nconst DeleteBtn = ({clickHandler}) => {\r\n    return (\r\n        <div className=\"delete-post-btn\" onClick={() => clickHandler()} >\r\n            <img src={trashIcon} alt=\"trash icon\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DeleteBtn","export default \"data:image/png;base64,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\"","import React from 'react'\r\n\r\nconst RatePost = ({onClick, rate, color}) => {\r\n    return (\r\n        <div className={`rate-post ${color}`} onClick={() => onClick(rate)}>\r\n            <p>+{rate}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RatePost","import React from 'react'\r\nimport {addReputation} from \"../../redux/reducers/authReducer\"\r\nimport {connect} from \"react-redux\"\r\nimport {\r\n    addRatingToPost,\r\n    deletePost, setError\r\n} from \"../../redux/reducers/postsReducer\"\r\nimport DeleteBtn\r\n    from \"../../components/common/DeleteBtn\"\r\nimport {NavLink} from \"react-router-dom\"\r\nimport RatePost from \"./RatePost\"\r\nimport {sendNotification} from \"../../redux/reducers/notificationReducer\"\r\n\r\nconst Post = ({post, addRatingToPost, authUser, addReputation, deletePost, sendNotification, setError}) => {\r\n    const {id, username, text, image, published_date, ratings, user, commentsLength} = post\r\n\r\n\r\n    const ratePost = (rate) => {\r\n        if(user === authUser.id) {\r\n            setError('Вы мне можете поставить рейтинг на свой же пост!')\r\n        } else {\r\n            addRatingToPost({\r\n                post: id,\r\n                user: authUser.id,\r\n                rating: rate\r\n            })\r\n            addReputation({\r\n                username: authUser.username,\r\n                user: user,\r\n                value: rate,\r\n                post: id\r\n            })\r\n            sendNotification({\r\n                user: user,\r\n                post: id,\r\n                message: `${authUser.username} оценил ваш пост на +${rate}`\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    const publishedDate = new Date(published_date)\r\n    const ratingSum = ratings?.length ? Math.round(ratings.map(r => r.rating).reduce((prev, cur) => prev+cur)/ratings.length * 100) / 100 : 0\r\n\r\n    const checkRatingLevel = (ratingSum) => {\r\n        if(ratingSum >= 8) return 'post-rating green'\r\n        else if(ratingSum >= 5) return 'post-rating orange'\r\n        else return 'post-rating red'\r\n    }\r\n\r\n    return (\r\n        <div className=\"post\">\r\n\r\n            <div className=\"post-header\">\r\n                <p className=\"post-author\">{username}, <span>{publishedDate.toLocaleString()}</span></p>\r\n                <div className=\"post-header__right-side\">\r\n                    {commentsLength !== undefined &&\r\n                    <NavLink to={`post/${id}`} style={{textDecoration: 'none', marginRight: \"10px\"}}>\r\n                        <p className=\"common-p\">{'Комментарии (' + commentsLength + ')'}</p>\r\n                    </NavLink>}\r\n\r\n                    {user === authUser.id && <DeleteBtn clickHandler={() => deletePost(id)} />}\r\n                </div>\r\n\r\n            </div>\r\n            <div className=\"post-body\">\r\n                <p className=\"post-text\">\r\n                    {text}\r\n                </p>\r\n                {image &&\r\n                <div className=\"post-img\">\r\n                    <img src={image}\r\n                         alt=\"mock\"/>\r\n                </div>}\r\n            </div>\r\n            <div className=\"post-footer\">\r\n                <div className={checkRatingLevel(ratingSum)}>\r\n                    <p>{ratingSum}</p>\r\n                </div>\r\n                <RatePost rate={1} color={'red'} onClick={ratePost}/>\r\n                <RatePost rate={5} color={'orange'} onClick={ratePost}/>\r\n                <RatePost rate={10} color={'green'} onClick={ratePost}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) =>({\r\n\r\n})\r\n\r\nexport default connect(mapStateToProps, {addReputation, addRatingToPost, deletePost, sendNotification, setError})(Post)","import {categoryAPI} from \"../../API/API\"\r\n\r\nconst SET_CATEGORIES = 'SET_CATEGORIES'\r\nconst SET_CATEGORIES_ERROR = 'SET_CATEGORIES_ERROR'\r\nconst SET_IS_CATEGORIES_LOADING = 'SET_IS_CATEGORIES_LOADING'\r\nconst CLEAR_CATEGORIES = 'CLEAR_CATEGORIES'\r\n\r\nconst initialState = {\r\n    categories: [\r\n\r\n    ],\r\n    error: null,\r\n    isLoading: false\r\n}\r\n\r\nexport const categoriesReducer = (state=initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_CATEGORIES:\r\n            return {\r\n                ...state,\r\n                categories: [...action.payload]\r\n            }\r\n        case SET_CATEGORIES_ERROR:\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n        case SET_IS_CATEGORIES_LOADING:\r\n            return {\r\n                ...state,\r\n                isLoading: action.payload\r\n            }\r\n        case CLEAR_CATEGORIES:\r\n            return {\r\n                ...state,\r\n                categories: []\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nconst setCategoriesAC = (payload) => ({type: SET_CATEGORIES, payload})\r\nconst setErrorAC = (payload) => ({type: SET_CATEGORIES_ERROR, payload})\r\nconst setIsLoadingAC = (payload) => ({type: SET_IS_CATEGORIES_LOADING, payload})\r\nconst clearCategoriesAC = () => ({type: CLEAR_CATEGORIES})\r\n\r\nexport const fetchCategories = () => async (dispatch) => {\r\n    try {\r\n        const res = await categoryAPI.fetchCategories()\r\n        dispatch(setCategoriesAC(res.data))\r\n        dispatch(setErrorAC(null))\r\n        dispatch(setIsLoadingAC(false))\r\n\r\n    } catch (e) {\r\n        setErrorAC('Произшола ошибка при получении категории')\r\n        setTimeout(() => {\r\n            dispatch(setErrorAC(''))\r\n        }, 5000)\r\n    }\r\n}\r\n\r\n\r\nexport const clearCategories = () => async (dispatch) => {\r\n    dispatch(clearCategoriesAC())\r\n}","import React from 'react'\r\nimport './Category.css'\r\n\r\nconst Category = ({id, title, onClick, categoryId}) => {\r\n    return (\r\n        <div className={\"category\" + (categoryId === id ? ' active': '')} onClick={() => onClick(id)}>\r\n            {title}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Category","import React, {\r\n    useEffect,\r\n    useRef,\r\n    useState\r\n} from 'react'\r\nimport Header from \"../../components/Header/Header\"\r\nimport './Posts.css'\r\nimport sendPng from '../../assets/images/send.png'\r\nimport photoPng from '../../assets/images/photo.png'\r\nimport {connect} from \"react-redux\"\r\nimport {\r\n    addPost, addRatingToPost, clearPosts,\r\n    setPosts\r\n} from \"../../redux/reducers/postsReducer\"\r\nimport Post from \"./Post\"\r\nimport {addReputation} from \"../../redux/reducers/authReducer\"\r\nimport Loader\r\n    from \"../../components/Loader/Loader\"\r\nimport {\r\n    clearCategories,\r\n    fetchCategories\r\n} from \"../../redux/reducers/categoryReducer\"\r\nimport Category\r\n    from \"../../components/Category/Category\"\r\n\r\nconst Posts = ({posts, error, setPosts, addPost, user, clearPosts, isLoading, isAuth, pagesNumber, fetchCategories, clearCategories, categories}) => {\r\n    const [value, setValue] = useState('')\r\n    const [img, setImg] = useState(null)\r\n    const [page, setPage] = useState(1)\r\n    const [categoryId, setCategoryId] = useState(null)\r\n    const postsEndRef = useRef(null)\r\n    const observer = useRef(null)\r\n\r\n    useEffect(() => {\r\n        fetchCategories()\r\n        return () => {\r\n            clearPosts()\r\n            clearCategories()\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if(!categoryId) setCategoryId(categories[0]?.id)\r\n    }, [categories])\r\n\r\n    useEffect(() => {\r\n        setPosts(page, categoryId)\r\n    }, [page, categoryId])\r\n\r\n    useEffect(() => {\r\n        if(isLoading) return\r\n        if(observer.current) observer.current.disconnect()\r\n        const callback = (entries) => {\r\n            if(entries[0].isIntersecting && page < pagesNumber) {\r\n                setPage(page + 1)\r\n            }\r\n        }\r\n\r\n        observer.current = new IntersectionObserver(callback)\r\n        observer.current.observe(postsEndRef.current)\r\n    }, [isLoading])\r\n\r\n    const handleTextarea = (e) => {\r\n        e.target.style.height = e.target.scrollHeight + 'px'\r\n\r\n        setValue(e.target.value)\r\n    }\r\n\r\n    const blur = (e) => {\r\n        e.target.style.height = '67px'\r\n    }\r\n\r\n    const handleFileInput = (e) => {\r\n        setImg(e.target.files[0])\r\n    }\r\n\r\n    const handleForm = (e) => {\r\n        e.preventDefault()\r\n\r\n        if(!value) return\r\n\r\n        const formData = new FormData()\r\n\r\n        formData.append('user', user.id)\r\n        formData.append('username', user.username)\r\n        formData.append('text', value)\r\n        formData.append('category', categoryId)\r\n\r\n        if(img) {\r\n            formData.append('image', img, img.name)\r\n        }\r\n\r\n        addPost(formData)\r\n        setValue('')\r\n        setImg(null)\r\n    }\r\n\r\n    const changeCategory = (id) => {\r\n        setCategoryId(id)\r\n        setPage(1)\r\n    }\r\n\r\n    return (\r\n        <main className=\"main\">\r\n            <div className=\"container\">\r\n                <Header />\r\n                <h1 className=\"about-us\">Активность сообщества</h1>\r\n                <div className=\"feed_container\">\r\n                    <div className=\"category_container\">\r\n                        {categories.map(c =>\r\n                            <Category title={c.title} id={c.id} onClick={changeCategory} categoryId={categoryId}/>\r\n                        )}\r\n\r\n                    </div>\r\n                    <div className=\"posts-container\">\r\n                        {img &&\r\n                        <div className=\"img-name\">\r\n                            Изображение: {img.name}\r\n                        </div>}\r\n                        {isAuth &&\r\n                        <form className=\"create-post\" onSubmit={e => handleForm(e)}>\r\n                        <textarea\r\n                            className=\"common-textarea\" onChange={e => handleTextarea(e)} value={value} onBlur={e => blur(e)} placeholder=\"Поделитесь чем нибудь\"/>\r\n                            <label className=\"add-img-btn\" htmlFor=\"file-input\">\r\n                                <input className=\"file-input\" id=\"file-input\" type=\"file\" onChange={e => handleFileInput(e)}/>\r\n                                <div className=\"icon-wrapper\">\r\n                                    <img src={photoPng} alt=\"upload icon\"/>\r\n                                </div>\r\n                            </label>\r\n                            <label className=\"send-btn\" htmlFor=\"submit-input\">\r\n                                <input className=\"submit-input\" id=\"submit-input\" type=\"submit\"/>\r\n                                <div className=\"icon-wrapper\">\r\n                                    <img src={sendPng} alt=\"send icon\"/>\r\n                                </div>\r\n                            </label>\r\n                        </form>\r\n                        }\r\n                        {posts.map(p =>\r\n                            <Post post={p} authUser={user} />\r\n                        )}\r\n                        {!isLoading && <div className=\"posts-end\" ref={postsEndRef} />}\r\n                        {isLoading && <Loader />}\r\n                    </div>\r\n                </div>\r\n\r\n                {error && <div className={\"error_wrapper\"}>{error}</div>}\r\n            </div>\r\n        </main>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    posts: state.posts.posts,\r\n    error: state.posts.error,\r\n    user: state.auth.user,\r\n    isLoading: state.posts.isLoading,\r\n    isAuth: state.auth.isAuth,\r\n    pagesNumber: state.posts.pagesNumber,\r\n    categories: state.categories.categories,\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {setPosts, addPost, addRatingToPost, addReputation, clearPosts, fetchCategories, clearCategories})(Posts)","export default \"data:image/png;base64,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\"","import {\r\n    commentsAPI,\r\n    userAPI\r\n} from \"../../API/API\"\r\n\r\nconst SET_COMMENTS = 'SET_COMMENTS'\r\nconst ADD_COMMENT = 'ADD_COMMENT'\r\nconst DELETE_COMMENT = 'DELETE_COMMENT'\r\nconst SET_COMMENT_ERROR = 'SET_COMMENT_ERROR'\r\nconst SET_IS_COMMENTS_LOADING = 'SET_IS_COMMENTS_LOADING'\r\nconst CLEAR_COMMENTS = 'CLEAR_COMMENTS'\r\n\r\nconst initialState = {\r\n    comments: [\r\n\r\n    ],\r\n    error: null,\r\n    isLoading: false\r\n}\r\n\r\nexport const commentsReducer = (state=initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_COMMENTS:\r\n            return {\r\n                ...state,\r\n                comments: [...state.comments, ...action.payload]\r\n            }\r\n        case ADD_COMMENT:\r\n            return {\r\n                ...state,\r\n                comments: [action.payload, ...state.comments]\r\n            }\r\n        case DELETE_COMMENT:\r\n            return {\r\n                ...state,\r\n                comments: state.comments.filter(c => c.id !== action.commentId)\r\n            }\r\n        case SET_COMMENT_ERROR:\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n        case SET_IS_COMMENTS_LOADING:\r\n            return {\r\n                ...state,\r\n                isLoading: action.payload\r\n            }\r\n        case CLEAR_COMMENTS:\r\n            return {\r\n                ...state,\r\n                comments: []\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nconst setCommentsAC = (payload) => ({type: SET_COMMENTS, payload})\r\nconst addCommentAC = (payload) => ({type: ADD_COMMENT, payload})\r\nconst deleteCommentAC = (commentId) => ({type: DELETE_COMMENT, commentId})\r\nconst setErrorAC = (payload) => ({type: SET_COMMENT_ERROR, payload})\r\nconst setIsLoadingAC = (payload) => ({type: SET_IS_COMMENTS_LOADING, payload})\r\nconst clearCommentsAC = () => ({type: CLEAR_COMMENTS})\r\n\r\nexport const fetchComments = (postId) => async (dispatch) => {\r\n    try {\r\n        dispatch(setIsLoadingAC(true))\r\n        const res = await commentsAPI.fetchPostComments(postId)\r\n        const comments = []\r\n        if(res.status === 200) {\r\n            for(let i=0; i < res.data.length; i++) {\r\n                const user = await userAPI.getUser(res.data[i].user)\r\n                if(user.data) {\r\n                    comments.push({...res.data[i], user: {...user.data}})\r\n                }\r\n            }\r\n            dispatch(setCommentsAC(comments))\r\n            dispatch(setErrorAC(null))\r\n            dispatch(setIsLoadingAC(false))\r\n        }\r\n    } catch (e) {\r\n        setErrorAC('Произшола ошибка')\r\n        setTimeout(() => {\r\n            dispatch(setErrorAC(''))\r\n        }, 5000)\r\n    }\r\n}\r\n\r\nexport const addComment = (data) => async (dispatch) => {\r\n    try {\r\n        dispatch(setIsLoadingAC(true))\r\n        const {token} = JSON.parse(localStorage.getItem('auth'))\r\n        const res = await commentsAPI.addCommentToPost(data, token)\r\n\r\n        if(res.status === 200) {\r\n            const user = await userAPI.getUser(res.data.user)\r\n\r\n            dispatch(addCommentAC({...res.data, user: user.data}))\r\n            dispatch(setErrorAC(null))\r\n            dispatch(setIsLoadingAC(false))\r\n        }\r\n    } catch (e) {\r\n        setErrorAC('Произшола ошибка')\r\n        setTimeout(() => {\r\n            dispatch(setErrorAC(''))\r\n        }, 5000)\r\n    }\r\n}\r\n\r\nexport const deleteComment = (id) => async (dispatch) => {\r\n    try {\r\n        dispatch(setIsLoadingAC(true))\r\n        const {token} = JSON.parse(localStorage.getItem('auth'))\r\n        const res = await commentsAPI.deleteCommentFromPost(id, token)\r\n\r\n        if(res.status === 204) {\r\n            dispatch(deleteCommentAC(id))\r\n            dispatch(setErrorAC(null))\r\n            dispatch(setIsLoadingAC(false))\r\n        }\r\n    } catch (e) {\r\n        setErrorAC('Произшола ошибка')\r\n        setTimeout(() => {\r\n            dispatch(setErrorAC(''))\r\n        }, 5000)\r\n    }\r\n}\r\n\r\nexport const clearComments = () => async (dispatch) => {\r\n    dispatch(clearCommentsAC())\r\n}","import React, {useState} from 'react'\r\nimport './Comment.css'\r\nimport DeleteBtn\r\n    from \"../common/DeleteBtn\"\r\nimport {connect} from \"react-redux\"\r\nimport {deleteComment} from \"../../redux/reducers/commentReducer\"\r\n\r\nconst Comment = ({id, user, text, created_date, authUser, deleteComment, setToReplyData, children}) => {\r\n    const createdDate = new Date(created_date)\r\n\r\n    return (\r\n        <div className='comment-wrapper' id={id}>\r\n            <div className=\"comment-header\">\r\n                <p className=\"comment-author\">\r\n                    {user.username} <span>{createdDate.toLocaleString()}</span>\r\n                </p>\r\n                {authUser.id === user.id && <DeleteBtn clickHandler={() => deleteComment(id)} />}\r\n            </div>\r\n            <div className=\"comment-body\">\r\n                {text}\r\n            </div>\r\n            <div className=\"comment_footer\">\r\n                {authUser && <button className=\"reply-btn\" onClick={() => setToReplyData({commentId: id, user: user})}>Ответить</button>}\r\n            </div>\r\n\r\n            {children?.map(child =>\r\n            <div className='comment-children'>\r\n                <div className=\"comment-header\">\r\n                    <p className=\"comment-author\">\r\n                        {child.user.username} <span>{new Date(child.created_date).toLocaleString()}</span>\r\n                    </p>\r\n                    {authUser.id === child.user.id && <DeleteBtn clickHandler={() => deleteComment(child.id)} />}\r\n                </div>\r\n                <div className=\"comment-body\">\r\n                    {child.text}\r\n                </div>\r\n                <div className=\"comment_footer\">\r\n                    {authUser && <button className=\"reply-btn\" onClick={() => setToReplyData({commentId: id, user: child.user})}>Ответить</button>}\r\n                </div>\r\n            </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) =>({\r\n    authUser: state.auth.user,\r\n})\r\n\r\nexport default connect(mapStateToProps, {deleteComment})(Comment)","import React, {useEffect, useState} from 'react'\r\nimport Post from \"./Post\"\r\nimport Comment from \"../../components/Comment/Comment\"\r\nimport { useLocation } from \"react-router-dom\";\r\nimport Header\r\n    from \"../../components/Header/Header\"\r\nimport {connect} from \"react-redux\"\r\nimport {fetchPost} from \"../../redux/reducers/postsReducer\"\r\nimport {\r\n    addComment,\r\n    clearComments,\r\n    fetchComments\r\n} from \"../../redux/reducers/commentReducer\"\r\nimport sendPng from \"../../assets/images/send.png\"\r\nimport Loader\r\n    from \"../../components/Loader/Loader\"\r\nimport {sendNotification} from \"../../redux/reducers/notificationReducer\"\r\n\r\nconst PostDetail = ({fetchPost, post, user, fetchComments, comments, clearComments, error, addComment, isAuth, isPostsLoading, isCommentsLoading, sendNotification}) => {\r\n    const location = useLocation()\r\n    const [value, setValue] = useState('')\r\n    const postId = location.pathname.split('/')[2]\r\n    const [toReplyData, setToReplyData] = useState(null)\r\n    const primaryComments = comments.filter(c => !c.parent)\r\n    const newComments = primaryComments.map(nc => {\r\n        return {...nc, children: comments.filter(c => c.parent === nc.id)}\r\n    })\r\n\r\n    useEffect(() => {\r\n        fetchPost(postId)\r\n        fetchComments(postId)\r\n\r\n        return () => {\r\n            clearComments()\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if(toReplyData) {\r\n            setValue(`${toReplyData.user.username}, `)\r\n        }\r\n    }, [toReplyData])\r\n\r\n    const handleTextarea = (e) => {\r\n        e.target.style.height = e.target.scrollHeight + 'px'\r\n\r\n        setValue(e.target.value)\r\n    }\r\n\r\n    const blur = (e) => {\r\n        if (!value) {\r\n            e.target.style.height = '67px'\r\n        }\r\n    }\r\n\r\n    const submitComment = (e) => {\r\n        e.preventDefault()\r\n        if (!value) return\r\n\r\n        const comment = {\r\n            text: e.target[0].value,\r\n            post: post.id,\r\n            user: user.id\r\n        }\r\n\r\n        if(toReplyData) {\r\n            comment.parent = toReplyData.commentId\r\n            sendNotification({\r\n                user: toReplyData.user.id,\r\n                post: post.id,\r\n                comment: toReplyData.commentId,\r\n                message: `${user.username} ответил на ваш комметарий`\r\n            })\r\n        }\r\n\r\n        addComment(comment)\r\n        sendNotification({\r\n            user: post.user,\r\n            post: post.id,\r\n            message: `${user.username} оставил комментарий на ваш пост`\r\n        })\r\n        setToReplyData(null)\r\n        setValue('')\r\n    }\r\n\r\n    return (\r\n        <div className=\"main\">\r\n            <div className=\"container\">\r\n                <Header />\r\n                <div className=\"post-container\">\r\n                    {isPostsLoading ? <Loader /> : <Post post={post} authUser={user}/>}\r\n\r\n                    <h2 className=\"comments-title\">Комментарии</h2>\r\n                    {toReplyData && <p style={{marginBottom: '10px'}}>Ответ {toReplyData.user.username}</p>}\r\n                    {isAuth &&\r\n                    <form className=\"comment-form\" onSubmit={(e) => submitComment(e)}>\r\n                        <textarea\r\n                            className=\"common-textarea wide\" onChange={e => handleTextarea(e)} value={value} onBlur={e => blur(e)} placeholder=\"Поделитесь чем нибудь\"/>\r\n                        <label className=\"send-btn\" htmlFor=\"submit-input\">\r\n                            <input className=\"submit-input\" id=\"submit-input\" type=\"submit\"/>\r\n                            <div className=\"icon-wrapper\">\r\n                                <img src={sendPng} alt=\"send icon\"/>\r\n                            </div>\r\n                        </label>\r\n                    </form>\r\n                    }\r\n                    {isCommentsLoading && <Loader />}\r\n                    {newComments?.map(c => <Comment {...c} setToReplyData={setToReplyData}/>)}\r\n                    {error && <div className=\"error_wrapper\">{error}</div>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) =>({\r\n    post: state.posts.post,\r\n    user: state.auth.user,\r\n    comments: state.comments.comments,\r\n    error: state.posts.error,\r\n    isAuth: state.auth.isAuth,\r\n    isPostsLoading: state.posts.isLoading,\r\n    isCommentsLoading: state.comments.isLoading\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {fetchPost, fetchComments, clearComments, addComment, sendNotification})(PostDetail)","import Home from \"./pages/Home/Home\"\r\nimport Index from \"./pages/Index/Index\"\r\nimport Login from \"./pages/Login/Login\"\r\nimport About from \"./pages/About/About\"\r\nimport Posts from \"./pages/Posts/Posts\"\r\nimport PostDetail from \"./pages/Posts/PostDetail\"\r\n\r\nconst INDEX_ROUTE = '/'\r\nconst HOME_ROUTE = '/home'\r\nconst LOGIN_ROUTE = '/login'\r\nconst ABOUT_ROUTE = '/about'\r\nconst POSTS_ROUTE = '/posts'\r\nconst POST_DETAIL_ROUTE = '/post/:id'\r\n\r\nexport const publicRoutes = [\r\n    {\r\n        path: INDEX_ROUTE,\r\n        Component: Index\r\n    },\r\n\r\n]\r\n\r\nexport const privateRoutes = [\r\n    {\r\n        path: HOME_ROUTE,\r\n        Component: Home\r\n    },\r\n    {\r\n        path: LOGIN_ROUTE,\r\n        Component: Login\r\n    },\r\n    {\r\n        path: ABOUT_ROUTE,\r\n        Component: About\r\n    },\r\n    {\r\n        path: POSTS_ROUTE,\r\n        Component: Posts\r\n    },\r\n    {\r\n        path: POST_DETAIL_ROUTE,\r\n        Component: PostDetail\r\n    }\r\n]\r\n","import React from 'react'\r\nimport {\r\n    Redirect,\r\n    Switch,\r\n    Route\r\n} from 'react-router-dom'\r\nimport {privateRoutes, publicRoutes} from \"../routes\"\r\nimport {connect} from \"react-redux\"\r\n\r\nconst AppRouter = ({canEnter}) => {\r\n    return canEnter ?\r\n        <Switch>\r\n            {privateRoutes.map(({path, Component}) =>\r\n                <Route key={path} path={path} exact={false}>\r\n                    <Component />\r\n                </Route>\r\n            )}\r\n            <Redirect to={\"/home\"} />\r\n        </Switch>\r\n        :\r\n        <Switch>\r\n            {publicRoutes.map(({path, Component}) =>\r\n                <Route key={path} path={path} exact={true}>\r\n                    <Component />\r\n                </Route>\r\n            )}\r\n            <Redirect to={\"/\"} />\r\n        </Switch>\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    canEnter: state.auth.canEnter\r\n})\r\n\r\nexport default connect(mapStateToProps)(AppRouter)\r\n","import React, {useEffect} from 'react'\nimport './App.css'\nimport AppRouter from \"./components/AppRouter\"\nimport {\n    HashRouter\n} from \"react-router-dom\"\nimport {connect} from \"react-redux\"\nimport {checkIsAuth} from \"./redux/reducers/authReducer\"\n\nconst App = ({checkIsAuth}) => {\n\n    useEffect(() => {\n        checkIsAuth()\n    }, [])\n\n    return (\n        <HashRouter>\n            <AppRouter />\n        </HashRouter>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n\n})\n\nexport default connect(mapStateToProps, {checkIsAuth})(App)","import {\r\n    applyMiddleware,\r\n    combineReducers,\r\n    createStore\r\n} from \"redux\"\r\nimport {authReducer} from \"./reducers/authReducer\"\r\nimport {messagesReducer} from \"./reducers/messagesReducer\"\r\nimport thunk from \"redux-thunk\"\r\nimport {postsReducer} from \"./reducers/postsReducer\"\r\nimport {commentsReducer} from \"./reducers/commentReducer\"\r\nimport {categoriesReducer} from \"./reducers/categoryReducer\"\r\nimport {notificationsReducer} from \"./reducers/notificationReducer\"\r\n\r\nconst reducers = combineReducers({\r\n    auth: authReducer,\r\n    messages: messagesReducer,\r\n    posts: postsReducer,\r\n    comments: commentsReducer,\r\n    categories: categoriesReducer,\r\n    notifications: notificationsReducer\r\n})\r\n\r\nexport const store = createStore(reducers, applyMiddleware(thunk))","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport {Provider} from \"react-redux\"\nimport {store} from \"./redux/store\"\n\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root')\n)\n"],"sourceRoot":""}